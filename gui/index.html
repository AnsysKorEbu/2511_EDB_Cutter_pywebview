<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDB 2D Viewer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>EDB 2D Viewer</h2>

            <div class="info-section">
                <h3 style="font-size: 14px; margin-bottom: 10px; color: #9cdcfe;">Data Information</h3>
                <div class="info-item">
                    <span class="info-label">Planes:</span>
                    <span class="info-value" id="planeCount">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Traces:</span>
                    <span class="info-value" id="traceCount">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Vias:</span>
                    <span class="info-value" id="viaCount">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Layers:</span>
                    <span class="info-value" id="layerCount">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Total Points:</span>
                    <span class="info-value" id="pointCount">0</span>
                </div>
            </div>

            <div class="info-section">
                <h3 style="font-size: 14px; margin-bottom: 10px; color: #9cdcfe;">Layers</h3>
                <div class="layer-list" id="layerList">
                    <div style="color: #858585; font-size: 12px; text-align: center; padding: 20px;">
                        Click "Reload Data" to load
                    </div>
                </div>
            </div>

            <button class="btn-reload" onclick="reloadData()" id="reloadBtn">Reload Data</button>

            <button class="btn-cut-mode" onclick="toggleCutMode()" id="cutModeBtn">‚úÇÔ∏è Cut Mode</button>

            <div id="cutTools" class="cut-tools hidden">
                <h3 style="font-size: 14px; margin-bottom: 10px; color: #9cdcfe;">Cut Tools</h3>
                <button class="cut-tool-btn" onclick="selectCutTool('line')" data-tool="line">
                    <span>üìè</span> Line Cut
                </button>
                <button class="cut-tool-btn" onclick="selectCutTool('rectangle')" data-tool="rectangle">
                    <span>‚ñ≠</span> Rectangle
                </button>
                <button class="cut-tool-btn" onclick="selectCutTool('polyline')" data-tool="polyline">
                    <span>üìê</span> Polyline
                </button>
                <button class="cut-tool-btn" onclick="selectCutTool('polygon')" data-tool="polygon">
                    <span>‚¨°</span> Polygon
                </button>
                <div style="margin-top: 10px; padding: 8px; background: #252526; border-radius: 4px; font-size: 11px; color: #858585;">
                    <div id="cutHint">Select a tool to start</div>
                </div>
                <button id="finishCutBtn" class="hidden" onclick="finishCurrentCut()" style="margin-top: 10px; background: #10a37f; width: 100%;">
                    ‚úì Finish & Save Cut
                </button>
                <button id="panModeBtn" onclick="togglePanMode()" style="margin-top: 10px; background: #3e3e42; width: 100%;">
                    ü§ö Pan Mode (Space)
                </button>
            </div>

            <div id="cutList" class="cut-list hidden">
                <h3 style="font-size: 14px; margin-bottom: 10px; color: #9cdcfe;">Saved Cuts (<span id="cutCount">0</span>)</h3>
                <div id="cutListItems">
                    <div style="color: #858585; font-size: 11px; text-align: center;">No cuts saved</div>
                </div>
                <div class="cut-actions">
                    <button onclick="refreshCutList()">Refresh</button>
                    <button onclick="clearAllCuts()">Clear All</button>
                </div>
            </div>
        </div>

        <div class="main-view">
            <div class="toolbar">
                <button onclick="resetView()">Reset View</button>
                <div class="zoom-controls">
                    <button class="icon-btn" onclick="zoomIn()">+</button>
                    <button class="icon-btn" onclick="zoomOut()">-</button>
                </div>
                <div class="controls">
                    <span class="control-label">Zoom:</span>
                    <span id="zoomLevel">100%</span>
                </div>
            </div>

            <div class="canvas-container">
                <canvas id="canvas"></canvas>
                <div class="loading hidden" id="loading">
                    <div class="spinner"></div>
                    <div>Loading data...</div>
                </div>
            </div>

            <div class="status-bar">
                <span id="statusText">Ready - Click "Reload Data" to load planes from source folder</span>
                <span id="mousePos">X: 0.000, Y: 0.000</span>
            </div>
        </div>
    </div>

    <!-- JavaScript modules -->
    <script src="canvas.js"></script>
    <script src="cutMode.js"></script>
    <script src="main.js"></script>
</body>
</html>
